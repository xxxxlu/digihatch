{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  name: 'Checkout',\n  data() {\n    return {\n      billingDetails: {\n        firstName: '',\n        lastName: '',\n        phone: '',\n        email: '',\n        address: '',\n        address2: '',\n        city: '',\n        province: '',\n        postalCode: '',\n        notes: '',\n        paymentMethod: 'cash_on_delivery'\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['cartItems', 'cartTotal']),\n    orderTotal() {\n      return this.cartTotal >= 3000 ? this.cartTotal : this.cartTotal + 200;\n    }\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString();\n    },\n    proceedToPayment() {\n      // Validate form\n      if (this.validateForm()) {\n        // Save checkout info to store\n        this.$store.dispatch('saveCheckoutInfo', {\n          billingDetails: this.billingDetails,\n          orderSummary: {\n            items: this.cartItems,\n            subtotal: this.cartTotal,\n            shipping: this.cartTotal >= 3000 ? 0 : 200,\n            total: this.orderTotal\n          }\n        });\n\n        // Redirect to order confirmation\n        this.$router.push('/checkout-success');\n      }\n    },\n    validateForm() {\n      // Basic validation can be expanded\n      if (!this.billingDetails.firstName || !this.billingDetails.lastName || !this.billingDetails.phone || !this.billingDetails.email || !this.billingDetails.address || !this.billingDetails.city || !this.billingDetails.province) {\n        alert('Please fill in all required fields');\n        return false;\n      }\n\n      // Email validation\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(this.billingDetails.email)) {\n        alert('Please enter a valid email address');\n        return false;\n      }\n\n      // Phone validation (simple check for Pakistan numbers)\n      const phoneRegex = /^((\\+92)|(0092)|(0))(3)([0-9]{9})$/;\n      if (!phoneRegex.test(this.billingDetails.phone)) {\n        alert('Please enter a valid Pakistan phone number (e.g., +923012345678 or 03012345678)');\n        return false;\n      }\n      return true;\n    }\n  },\n  created() {\n    // Initialize the store\n    this.$store.dispatch('initializeStore');\n  }\n};","map":{"version":3,"names":["mapGetters","name","data","billingDetails","firstName","lastName","phone","email","address","address2","city","province","postalCode","notes","paymentMethod","computed","orderTotal","cartTotal","methods","formatPrice","price","toLocaleString","proceedToPayment","validateForm","$store","dispatch","orderSummary","items","cartItems","subtotal","shipping","total","$router","push","alert","emailRegex","test","phoneRegex","created"],"sources":["src/views/Checkout.vue"],"sourcesContent":["<template>\n  <div class=\"checkout-page\">\n    <div class=\"container\">\n      <h1 class=\"page-title\">CHECKOUT</h1>\n\n      <div v-if=\"cartItems.length === 0\" class=\"empty-checkout\">\n        <h2>Your cart is empty</h2>\n        <p>You need to add some products to your cart before proceeding to checkout.</p>\n        <router-link to=\"/\" class=\"btn btn-primary\">Return to Shop</router-link>\n      </div>\n\n      <div v-else class=\"checkout-content\">\n        <div class=\"row\">\n          <!-- Order Summary -->\n          <div class=\"col-lg-5 order-lg-2\">\n            <div class=\"order-summary\">\n              <h2 class=\"summary-title\">Your Order</h2>\n\n              <div class=\"summary-products\">\n                <div class=\"summary-product\" v-for=\"item in cartItems\" :key=\"item.id\">\n                  <div class=\"product-info\">\n                    <img :src=\"item.thumbnail\" :alt=\"item.name\" class=\"product-thumbnail\">\n                    <div class=\"product-details\">\n                      <h3 class=\"product-title\">{{ item.name }}</h3>\n                      <p class=\"product-meta\">Quantity: {{ item.quantity }}</p>\n                    </div>\n                  </div>\n                  <div class=\"product-price\">Rs.{{ formatPrice((item.salePrice || item.price) * item.quantity) }}</div>\n                </div>\n              </div>\n\n              <div class=\"summary-totals\">\n                <div class=\"summary-item subtotal\">\n                  <span class=\"label\">Subtotal:</span>\n                  <span class=\"value\">Rs.{{ formatPrice(cartTotal) }}</span>\n                </div>\n\n                <div class=\"summary-item shipping\">\n                  <span class=\"label\">Shipping:</span>\n                  <span class=\"value\" v-if=\"cartTotal >= 3000\">Free</span>\n                  <span class=\"value\" v-else>Rs.200</span>\n                </div>\n\n                <div class=\"summary-item total\">\n                  <span class=\"label\">Total:</span>\n                  <span class=\"value\">Rs.{{ formatPrice(orderTotal) }}</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Checkout Form -->\n          <div class=\"col-lg-7 order-lg-1\">\n            <div class=\"checkout-form\">\n              <h2 class=\"form-title\">Billing Details</h2>\n\n              <form @submit.prevent=\"proceedToPayment\">\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <label for=\"firstName\">First Name *</label>\n                      <input\n                        type=\"text\"\n                        id=\"firstName\"\n                        v-model=\"billingDetails.firstName\"\n                        class=\"form-control\"\n                        required\n                      >\n                    </div>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <label for=\"lastName\">Last Name *</label>\n                      <input\n                        type=\"text\"\n                        id=\"lastName\"\n                        v-model=\"billingDetails.lastName\"\n                        class=\"form-control\"\n                        required\n                      >\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"phone\">Phone Number *</label>\n                  <input\n                    type=\"tel\"\n                    id=\"phone\"\n                    v-model=\"billingDetails.phone\"\n                    class=\"form-control\"\n                    required\n                  >\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"email\">Email Address *</label>\n                  <input\n                    type=\"email\"\n                    id=\"email\"\n                    v-model=\"billingDetails.email\"\n                    class=\"form-control\"\n                    required\n                  >\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"address\">Street Address *</label>\n                  <input\n                    type=\"text\"\n                    id=\"address\"\n                    v-model=\"billingDetails.address\"\n                    class=\"form-control\"\n                    placeholder=\"House number and street name\"\n                    required\n                  >\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"address2\">Apartment, suite, unit, etc. (optional)</label>\n                  <input\n                    type=\"text\"\n                    id=\"address2\"\n                    v-model=\"billingDetails.address2\"\n                    class=\"form-control\"\n                  >\n                </div>\n\n                <div class=\"row\">\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <label for=\"city\">Town / City *</label>\n                      <input\n                        type=\"text\"\n                        id=\"city\"\n                        v-model=\"billingDetails.city\"\n                        class=\"form-control\"\n                        required\n                      >\n                    </div>\n                  </div>\n\n                  <div class=\"col-md-6\">\n                    <div class=\"form-group\">\n                      <label for=\"province\">Province *</label>\n                      <select\n                        id=\"province\"\n                        v-model=\"billingDetails.province\"\n                        class=\"form-control\"\n                        required\n                      >\n                        <option value=\"\">Select Province</option>\n                        <option value=\"Punjab\">Punjab</option>\n                        <option value=\"Sindh\">Sindh</option>\n                        <option value=\"KPK\">Khyber Pakhtunkhwa</option>\n                        <option value=\"Balochistan\">Balochistan</option>\n                        <option value=\"Gilgit Baltistan\">Gilgit Baltistan</option>\n                        <option value=\"AJK\">Azad Jammu & Kashmir</option>\n                      </select>\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"postalCode\">Postal Code</label>\n                  <input\n                    type=\"text\"\n                    id=\"postalCode\"\n                    v-model=\"billingDetails.postalCode\"\n                    class=\"form-control\"\n                  >\n                </div>\n\n                <div class=\"form-group\">\n                  <label for=\"orderNotes\">Order Notes (optional)</label>\n                  <textarea\n                    id=\"orderNotes\"\n                    v-model=\"billingDetails.notes\"\n                    class=\"form-control\"\n                    rows=\"4\"\n                    placeholder=\"Notes about your order, e.g. special delivery instructions\"\n                  ></textarea>\n                </div>\n\n                <h3 class=\"payment-title\">Payment Method</h3>\n\n                <div class=\"payment-methods\">\n                  <div class=\"payment-method\">\n                    <input\n                      type=\"radio\"\n                      id=\"cod\"\n                      value=\"cash_on_delivery\"\n                      v-model=\"billingDetails.paymentMethod\"\n                      required\n                    >\n                    <label for=\"cod\">Cash on Delivery</label>\n                    <div v-if=\"billingDetails.paymentMethod === 'cash_on_delivery'\" class=\"payment-info\">\n                      Pay with cash upon delivery.\n                    </div>\n                  </div>\n\n                  <div class=\"payment-method\">\n                    <input\n                      type=\"radio\"\n                      id=\"bank\"\n                      value=\"bank_transfer\"\n                      v-model=\"billingDetails.paymentMethod\"\n                    >\n                    <label for=\"bank\">Bank Transfer</label>\n                    <div v-if=\"billingDetails.paymentMethod === 'bank_transfer'\" class=\"payment-info\">\n                      Make your payment directly into our bank account. Please use your Order ID as the payment reference. Your order will not be shipped until the funds have cleared in our account.\n                    </div>\n                  </div>\n                </div>\n\n                <div class=\"checkout-actions\">\n                  <button type=\"submit\" class=\"btn btn-primary btn-place-order\">Place Order</button>\n                  <router-link to=\"/cart\" class=\"btn btn-outline-secondary\">Back to Cart</router-link>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\n\nexport default {\n  name: 'Checkout',\n  data() {\n    return {\n      billingDetails: {\n        firstName: '',\n        lastName: '',\n        phone: '',\n        email: '',\n        address: '',\n        address2: '',\n        city: '',\n        province: '',\n        postalCode: '',\n        notes: '',\n        paymentMethod: 'cash_on_delivery'\n      }\n    }\n  },\n  computed: {\n    ...mapGetters(['cartItems', 'cartTotal']),\n    orderTotal() {\n      return this.cartTotal >= 3000 ? this.cartTotal : this.cartTotal + 200\n    }\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString()\n    },\n    proceedToPayment() {\n      // Validate form\n      if (this.validateForm()) {\n        // Save checkout info to store\n        this.$store.dispatch('saveCheckoutInfo', {\n          billingDetails: this.billingDetails,\n          orderSummary: {\n            items: this.cartItems,\n            subtotal: this.cartTotal,\n            shipping: this.cartTotal >= 3000 ? 0 : 200,\n            total: this.orderTotal\n          }\n        })\n\n        // Redirect to order confirmation\n        this.$router.push('/checkout-success')\n      }\n    },\n    validateForm() {\n      // Basic validation can be expanded\n      if (!this.billingDetails.firstName ||\n          !this.billingDetails.lastName ||\n          !this.billingDetails.phone ||\n          !this.billingDetails.email ||\n          !this.billingDetails.address ||\n          !this.billingDetails.city ||\n          !this.billingDetails.province) {\n        alert('Please fill in all required fields')\n        return false\n      }\n\n      // Email validation\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/\n      if (!emailRegex.test(this.billingDetails.email)) {\n        alert('Please enter a valid email address')\n        return false\n      }\n\n      // Phone validation (simple check for Pakistan numbers)\n      const phoneRegex = /^((\\+92)|(0092)|(0))(3)([0-9]{9})$/\n      if (!phoneRegex.test(this.billingDetails.phone)) {\n        alert('Please enter a valid Pakistan phone number (e.g., +923012345678 or 03012345678)')\n        return false\n      }\n\n      return true\n    }\n  },\n  created() {\n    // Initialize the store\n    this.$store.dispatch('initializeStore')\n  }\n}\n</script>\n\n<style scoped>\n.checkout-page {\n  padding: 60px 0;\n}\n\n.page-title {\n  text-align: center;\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 40px;\n  color: #333;\n  text-transform: uppercase;\n}\n\n.empty-checkout {\n  text-align: center;\n  padding: 60px 0;\n}\n\n.empty-checkout h2 {\n  font-size: 24px;\n  margin-bottom: 20px;\n  font-weight: 600;\n}\n\n.empty-checkout p {\n  color: #666;\n  max-width: 500px;\n  margin: 0 auto 30px;\n}\n\n/* Order Summary */\n.order-summary {\n  background-color: #f9f9f9;\n  border-radius: 8px;\n  padding: 25px;\n  position: sticky;\n  top: 20px;\n}\n\n.summary-title, .form-title, .payment-title {\n  font-size: 20px;\n  font-weight: 600;\n  margin-bottom: 20px;\n  padding-bottom: 15px;\n  border-bottom: 1px solid #eee;\n}\n\n.summary-products {\n  margin-bottom: 20px;\n  max-height: 300px;\n  overflow-y: auto;\n}\n\n.summary-product {\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n}\n\n.product-info {\n  display: flex;\n  align-items: center;\n  flex: 1;\n}\n\n.product-thumbnail {\n  width: 60px;\n  height: 60px;\n  object-fit: cover;\n  border-radius: 4px;\n  margin-right: 10px;\n}\n\n.product-details {\n  flex: 1;\n}\n\n.product-title {\n  font-size: 14px;\n  font-weight: 500;\n  margin: 0 0 5px;\n}\n\n.product-meta {\n  font-size: 12px;\n  color: #666;\n  margin: 0;\n}\n\n.product-price {\n  font-weight: 500;\n  margin-left: 10px;\n}\n\n.summary-totals {\n  padding-top: 15px;\n}\n\n.summary-item {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 15px;\n}\n\n.summary-item.total {\n  font-size: 18px;\n  font-weight: 600;\n  margin-top: 15px;\n  padding-top: 15px;\n  border-top: 1px solid #eee;\n}\n\n/* Checkout Form */\n.checkout-form {\n  background-color: white;\n  border-radius: 8px;\n  padding: 30px;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);\n  margin-bottom: 30px;\n}\n\n.form-group {\n  margin-bottom: 20px;\n}\n\nlabel {\n  display: block;\n  font-weight: 500;\n  margin-bottom: 8px;\n  font-size: 14px;\n}\n\n.form-control {\n  width: 100%;\n  padding: 10px 15px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n  font-size: 14px;\n}\n\n.form-control:focus {\n  border-color: #8c241d;\n  outline: none;\n  box-shadow: 0 0 0 3px rgba(140, 36, 29, 0.1);\n}\n\n.payment-title {\n  margin-top: 30px;\n}\n\n.payment-methods {\n  margin-bottom: 30px;\n}\n\n.payment-method {\n  margin-bottom: 15px;\n  padding: 15px;\n  border: 1px solid #ddd;\n  border-radius: 4px;\n}\n\n.payment-method input[type=\"radio\"] {\n  margin-right: 10px;\n}\n\n.payment-method label {\n  display: inline;\n  font-weight: 600;\n}\n\n.payment-info {\n  margin-top: 10px;\n  padding-left: 25px;\n  font-size: 14px;\n  color: #666;\n}\n\n.checkout-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.btn-place-order {\n  padding: 12px 25px;\n}\n\n@media (max-width: 992px) {\n  .order-summary {\n    margin-top: 30px;\n    position: static;\n  }\n}\n\n@media (max-width: 576px) {\n  .checkout-form {\n    padding: 20px;\n  }\n\n  .checkout-actions {\n    flex-direction: column-reverse;\n    gap: 15px;\n  }\n\n  .btn-place-order, .checkout-actions .btn-outline-secondary {\n    width: 100%;\n  }\n}\n</style>\n"],"mappings":"AAsOA,SAAAA,UAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,cAAA;QACAC,SAAA;QACAC,QAAA;QACAC,KAAA;QACAC,KAAA;QACAC,OAAA;QACAC,QAAA;QACAC,IAAA;QACAC,QAAA;QACAC,UAAA;QACAC,KAAA;QACAC,aAAA;MACA;IACA;EACA;EACAC,QAAA;IACA,GAAAf,UAAA;IACAgB,WAAA;MACA,YAAAC,SAAA,gBAAAA,SAAA,QAAAA,SAAA;IACA;EACA;EACAC,OAAA;IACAC,YAAAC,KAAA;MACA,OAAAA,KAAA,CAAAC,cAAA;IACA;IACAC,iBAAA;MACA;MACA,SAAAC,YAAA;QACA;QACA,KAAAC,MAAA,CAAAC,QAAA;UACAtB,cAAA,OAAAA,cAAA;UACAuB,YAAA;YACAC,KAAA,OAAAC,SAAA;YACAC,QAAA,OAAAZ,SAAA;YACAa,QAAA,OAAAb,SAAA;YACAc,KAAA,OAAAf;UACA;QACA;;QAEA;QACA,KAAAgB,OAAA,CAAAC,IAAA;MACA;IACA;IACAV,aAAA;MACA;MACA,UAAApB,cAAA,CAAAC,SAAA,IACA,MAAAD,cAAA,CAAAE,QAAA,IACA,MAAAF,cAAA,CAAAG,KAAA,IACA,MAAAH,cAAA,CAAAI,KAAA,IACA,MAAAJ,cAAA,CAAAK,OAAA,IACA,MAAAL,cAAA,CAAAO,IAAA,IACA,MAAAP,cAAA,CAAAQ,QAAA;QACAuB,KAAA;QACA;MACA;;MAEA;MACA,MAAAC,UAAA;MACA,KAAAA,UAAA,CAAAC,IAAA,MAAAjC,cAAA,CAAAI,KAAA;QACA2B,KAAA;QACA;MACA;;MAEA;MACA,MAAAG,UAAA;MACA,KAAAA,UAAA,CAAAD,IAAA,MAAAjC,cAAA,CAAAG,KAAA;QACA4B,KAAA;QACA;MACA;MAEA;IACA;EACA;EACAI,QAAA;IACA;IACA,KAAAd,MAAA,CAAAC,QAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}