{"ast":null,"code":"import { mapGetters } from 'vuex';\nexport default {\n  name: 'Checkout',\n  data() {\n    return {\n      billingDetails: {\n        firstName: '',\n        lastName: '',\n        phone: '',\n        email: '',\n        address: '',\n        address2: '',\n        city: '',\n        province: '',\n        postalCode: '',\n        notes: '',\n        paymentMethod: 'cash_on_delivery'\n      }\n    };\n  },\n  computed: {\n    ...mapGetters(['cartItems', 'cartTotal']),\n    orderTotal() {\n      return this.cartTotal >= 3000 ? this.cartTotal : this.cartTotal + 200;\n    }\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString();\n    },\n    proceedToPayment() {\n      // Validate form\n      if (this.validateForm()) {\n        // Save checkout info to store\n        this.$store.dispatch('saveCheckoutInfo', {\n          billingDetails: this.billingDetails,\n          orderSummary: {\n            items: this.cartItems,\n            subtotal: this.cartTotal,\n            shipping: this.cartTotal >= 3000 ? 0 : 200,\n            total: this.orderTotal\n          }\n        });\n\n        // Redirect to order confirmation\n        this.$router.push('/checkout-success');\n      }\n    },\n    validateForm() {\n      // Basic validation can be expanded\n      if (!this.billingDetails.firstName || !this.billingDetails.lastName || !this.billingDetails.phone || !this.billingDetails.email || !this.billingDetails.address || !this.billingDetails.city || !this.billingDetails.province) {\n        alert('Please fill in all required fields');\n        return false;\n      }\n\n      // Email validation\n      const emailRegex = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n      if (!emailRegex.test(this.billingDetails.email)) {\n        alert('Please enter a valid email address');\n        return false;\n      }\n\n      // Phone validation (simple check for Pakistan numbers)\n      const phoneRegex = /^((\\+92)|(0092)|(0))(3)([0-9]{9})$/;\n      if (!phoneRegex.test(this.billingDetails.phone)) {\n        alert('Please enter a valid Pakistan phone number (e.g., +923012345678 or 03012345678)');\n        return false;\n      }\n      return true;\n    }\n  },\n  created() {\n    // Initialize the store\n    this.$store.dispatch('initializeStore');\n  }\n};","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}