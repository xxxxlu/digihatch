{"ast":null,"code":"export default {\n  name: 'CheckoutSuccess',\n  data() {\n    return {\n      orderNumber: 'PB' + Math.floor(10000 + Math.random() * 90000),\n      orderDate: new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    };\n  },\n  computed: {\n    checkoutInfo() {\n      return this.$store.state.checkoutInfo;\n    }\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString();\n    },\n    printOrder() {\n      // 确保只在客户端环境中访问window对象\n      if (typeof window !== 'undefined') {\n        window.print();\n      }\n    }\n  },\n  created() {\n    // If there's no checkout info (e.g., user directly accessed this page), redirect to home\n    if (!this.checkoutInfo) {\n      this.$router.push('/');\n    } else {\n      // Clear the cart after successful order\n      this.$store.dispatch('clearCart');\n    }\n  }\n};","map":{"version":3,"names":["name","data","orderNumber","Math","floor","random","orderDate","Date","toLocaleDateString","year","month","day","computed","checkoutInfo","$store","state","methods","formatPrice","price","toLocaleString","printOrder","window","print","created","$router","push","dispatch"],"sources":["src/views/CheckoutSuccess.vue"],"sourcesContent":["<template>\n  <div class=\"success-page\">\n    <div class=\"container\">\n      <div class=\"success-container\">\n        <div class=\"success-icon\">\n          <i class=\"fas fa-check-circle\"></i>\n        </div>\n\n        <h1 class=\"success-title\">Thank You for Your Order!</h1>\n        <p class=\"success-message\">Your order has been placed successfully and is being processed.</p>\n\n        <div class=\"order-info\">\n          <div class=\"order-number\">\n            <strong>Order Number:</strong> #{{ orderNumber }}\n          </div>\n          <div class=\"order-date\">\n            <strong>Order Date:</strong> {{ orderDate }}\n          </div>\n        </div>\n\n        <div class=\"order-details\" v-if=\"checkoutInfo\">\n          <h2 class=\"details-title\">Order Details</h2>\n\n          <div class=\"details-section\">\n            <h3>Items</h3>\n            <div class=\"order-items\">\n              <div class=\"order-item\" v-for=\"item in checkoutInfo.orderSummary.items\" :key=\"item.id\">\n                <div class=\"item-info\">\n                  <div class=\"item-quantity\">{{ item.quantity }}x</div>\n                  <div class=\"item-name\">{{ item.name }}</div>\n                </div>\n                <div class=\"item-price\">Rs.{{ formatPrice((item.salePrice || item.price) * item.quantity) }}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"details-section\">\n            <h3>Order Summary</h3>\n            <div class=\"order-summary\">\n              <div class=\"summary-row\">\n                <div class=\"row-label\">Subtotal:</div>\n                <div class=\"row-value\">Rs.{{ formatPrice(checkoutInfo.orderSummary.subtotal) }}</div>\n              </div>\n              <div class=\"summary-row\">\n                <div class=\"row-label\">Shipping:</div>\n                <div class=\"row-value\">{{ checkoutInfo.orderSummary.shipping === 0 ? 'Free' : `Rs.${formatPrice(checkoutInfo.orderSummary.shipping)}` }}</div>\n              </div>\n              <div class=\"summary-row total\">\n                <div class=\"row-label\">Total:</div>\n                <div class=\"row-value\">Rs.{{ formatPrice(checkoutInfo.orderSummary.total) }}</div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"details-section\">\n            <h3>Shipping Address</h3>\n            <div class=\"address-details\">\n              <p>{{ checkoutInfo.billingDetails.firstName }} {{ checkoutInfo.billingDetails.lastName }}</p>\n              <p>{{ checkoutInfo.billingDetails.address }}</p>\n              <p v-if=\"checkoutInfo.billingDetails.address2\">{{ checkoutInfo.billingDetails.address2 }}</p>\n              <p>{{ checkoutInfo.billingDetails.city }}, {{ checkoutInfo.billingDetails.province }}</p>\n              <p v-if=\"checkoutInfo.billingDetails.postalCode\">{{ checkoutInfo.billingDetails.postalCode }}</p>\n              <p>Pakistan</p>\n              <p>{{ checkoutInfo.billingDetails.phone }}</p>\n              <p>{{ checkoutInfo.billingDetails.email }}</p>\n            </div>\n          </div>\n\n          <div class=\"details-section\">\n            <h3>Payment Method</h3>\n            <p class=\"payment-method\">\n              {{ checkoutInfo.billingDetails.paymentMethod === 'cash_on_delivery' ? 'Cash on Delivery' : 'Bank Transfer' }}\n            </p>\n          </div>\n        </div>\n\n        <div class=\"success-actions\">\n          <router-link to=\"/\" class=\"btn btn-primary\">Continue Shopping</router-link>\n          <button class=\"btn btn-secondary\" @click=\"printOrder\">Print Order</button>\n        </div>\n\n        <div class=\"customer-support\">\n          <p>If you have any questions about your order, please contact our customer service:</p>\n          <p><strong>Phone:</strong> 0307 0405982</p>\n          <p><strong>Email:</strong> pursebazar@gmail.com</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'CheckoutSuccess',\n  data() {\n    return {\n      orderNumber: 'PB' + Math.floor(10000 + Math.random() * 90000),\n      orderDate: new Date().toLocaleDateString('en-US', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      })\n    }\n  },\n  computed: {\n    checkoutInfo() {\n      return this.$store.state.checkoutInfo\n    }\n  },\n  methods: {\n    formatPrice(price) {\n      return price.toLocaleString()\n    },\n    printOrder() {\n      // 确保只在客户端环境中访问window对象\n      if (typeof window !== 'undefined') {\n        window.print()\n      }\n    }\n  },\n  created() {\n    // If there's no checkout info (e.g., user directly accessed this page), redirect to home\n    if (!this.checkoutInfo) {\n      this.$router.push('/')\n    } else {\n      // Clear the cart after successful order\n      this.$store.dispatch('clearCart')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.success-page {\n  padding: 60px 0;\n  background-color: #f9f9f9;\n  min-height: 100vh;\n}\n\n.success-container {\n  background-color: white;\n  border-radius: 10px;\n  padding: 40px;\n  box-shadow: 0 2px 20px rgba(0, 0, 0, 0.08);\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.success-icon {\n  text-align: center;\n  font-size: 80px;\n  color: #28a745;\n  margin-bottom: 20px;\n}\n\n.success-title {\n  text-align: center;\n  font-size: 28px;\n  font-weight: 600;\n  margin-bottom: 15px;\n  color: #333;\n}\n\n.success-message {\n  text-align: center;\n  font-size: 16px;\n  color: #666;\n  margin-bottom: 30px;\n}\n\n.order-info {\n  background-color: #f5f5f5;\n  border-radius: 6px;\n  padding: 20px;\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: 30px;\n}\n\n.order-number, .order-date {\n  font-size: 16px;\n}\n\n.order-details {\n  margin-bottom: 30px;\n}\n\n.details-title {\n  font-size: 22px;\n  font-weight: 600;\n  margin-bottom: 20px;\n  border-bottom: 1px solid #eee;\n  padding-bottom: 10px;\n}\n\n.details-section {\n  margin-bottom: 25px;\n}\n\n.details-section h3 {\n  font-size: 18px;\n  font-weight: 600;\n  margin-bottom: 15px;\n  color: #333;\n}\n\n.order-items {\n  border: 1px solid #eee;\n  border-radius: 6px;\n  overflow: hidden;\n}\n\n.order-item {\n  display: flex;\n  justify-content: space-between;\n  padding: 12px 15px;\n  border-bottom: 1px solid #eee;\n}\n\n.order-item:last-child {\n  border-bottom: none;\n}\n\n.item-info {\n  display: flex;\n  align-items: center;\n}\n\n.item-quantity {\n  font-weight: 500;\n  margin-right: 10px;\n  color: #666;\n}\n\n.item-name {\n  font-weight: 500;\n}\n\n.item-price {\n  font-weight: 500;\n}\n\n.order-summary {\n  background-color: #f9f9f9;\n  border-radius: 6px;\n  padding: 15px;\n}\n\n.summary-row {\n  display: flex;\n  justify-content: space-between;\n  padding: 8px 0;\n}\n\n.summary-row.total {\n  border-top: 1px solid #ddd;\n  margin-top: 8px;\n  padding-top: 12px;\n  font-size: 18px;\n  font-weight: 600;\n}\n\n.address-details p {\n  margin-bottom: 5px;\n}\n\n.payment-method {\n  font-weight: 500;\n}\n\n.success-actions {\n  display: flex;\n  justify-content: center;\n  gap: 15px;\n  margin-bottom: 30px;\n}\n\n.customer-support {\n  text-align: center;\n  color: #666;\n  font-size: 14px;\n  border-top: 1px solid #eee;\n  padding-top: 20px;\n}\n\n.customer-support p {\n  margin-bottom: 5px;\n}\n\n@media (max-width: 768px) {\n  .success-container {\n    padding: 25px;\n  }\n\n  .order-info {\n    flex-direction: column;\n    gap: 10px;\n  }\n}\n\n@media print {\n  .success-actions,\n  .success-icon,\n  .navbar,\n  .footer {\n    display: none !important;\n  }\n\n  .success-container {\n    box-shadow: none;\n    padding: 0;\n  }\n\n  .success-page {\n    background-color: white;\n    padding: 0;\n  }\n}\n</style>\n"],"mappings":"AA4FA;EACAA,IAAA;EACAC,KAAA;IACA;MACAC,WAAA,SAAAC,IAAA,CAAAC,KAAA,SAAAD,IAAA,CAAAE,MAAA;MACAC,SAAA,MAAAC,IAAA,GAAAC,kBAAA;QACAC,IAAA;QACAC,KAAA;QACAC,GAAA;MACA;IACA;EACA;EACAC,QAAA;IACAC,aAAA;MACA,YAAAC,MAAA,CAAAC,KAAA,CAAAF,YAAA;IACA;EACA;EACAG,OAAA;IACAC,YAAAC,KAAA;MACA,OAAAA,KAAA,CAAAC,cAAA;IACA;IACAC,WAAA;MACA;MACA,WAAAC,MAAA;QACAA,MAAA,CAAAC,KAAA;MACA;IACA;EACA;EACAC,QAAA;IACA;IACA,UAAAV,YAAA;MACA,KAAAW,OAAA,CAAAC,IAAA;IACA;MACA;MACA,KAAAX,MAAA,CAAAY,QAAA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}